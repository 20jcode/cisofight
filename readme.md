# js  텀프로젝트

201610125 이영준

네모 세모 동그라미 타워디펜스

주요 기능

- 게임생성 방만들기
- 승패 저장
- 회원가입, 로그인
- 웹소켓을 이용한 1대1 대전

# 개발일지

## 12월 9일

### npm 세팅 잡기

```angular2html
"dependencies": {
    "cookie-parser": "^1.4.6",
    "dotenv": "^16.3.1",
    "express": "^4.18.2",
    "express-session": "^1.17.3",
    "morgan": "^1.10.0",
    "multer": "^1.4.5-lts.1",
    "nunjucks": "^3.2.4"
  },
  "devDependencies": {
    "nodemon": "^3.0.2"
  }

```

### 기본적인 Usecase

1. 로그인을 한다.
-> 계정이 등록되어있지 않은 경우 회원가입을 한다.

2. 로그인되면 매칭 버튼과 사용자 정보 세팅이 뜬다.

3. 대기중인 사람과 1대1 대전이 시작된다.
4. 게임의 승패가 기록된다.
5. 2번 창으로 다시 돌아간다.

추가) 전적을 확인할 수 있다.
추가) ID 설정 등이 가능하다.

### 회원가입 로그인 기능 구현

.env 추가

app.js 추가

routes 폴더 추가

views 폴더 추가


# 12월 10일

### http 캔버스를 이용해서 기본적인 클라이언트 동작 구현하기

플레이어 객체 -> 이동모듈, 스킬모듈, 기본모듈 이 합쳐진 형태로 동작.

클라이언트에서 동작이 입력되면 해당 모듈을 통해 socket을 통해서 서버로 데이터가 넘어가게됨.

---

먼저 기본적인 네모 도형이 나오고, 키를 입력하면 움직일 수 있도록 구현해보자.

일단 하나의 파일로 만들고 그다음 분할하는 작업을 진행해보자.

---

네모의 위치이동이 안되는 문제가 있다.

js파일 분리를 하니 html 렌더링이 제대로 안되는 문제가 또 있다.

문제가 참 많다.

---

# 12월 11일 (월)

라우터에서 next로 다음 미들웨어에 계속 넘기는 구조

---

# 12월 12일 (화)

클라이언트에서는 조작기능만 수행하고, 충돌이나 승패판정 등은 서버에서 진행되어야한다.


---

# 12월 12일

routes/index.js 에서 '/fight'로 오는 get 요청에 대해서 fightController로 보냄

FightRoom 네임스페이스 -- 내부에 각각 sess 이라는 룸이 존재.

승패판정을 서버에서 진행하기위해서는 너무 많은 시간이 필요.

치팅에 대한 부분은 지금 생각하지 않도록.

---

//nunjucks

템플릿 엔진

{{ 변수이름 }} 으로 res.render에서 전달해서 html로 렌더링할 수 있다.


